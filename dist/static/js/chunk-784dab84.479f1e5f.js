(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-784dab84"],{"04d2":function(t,e,i){"use strict";i("f818")},1381:function(t,e,i){},"159b":function(t,e,i){var n=i("da84"),a=i("fdbc"),r=i("785a"),c=i("17c2"),s=i("9112"),o=function(t){if(t&&t.forEach!==c)try{s(t,"forEach",c)}catch(e){t.forEach=c}};for(var u in a)a[u]&&o(n[u]&&n[u].prototype);o(r)},"17c2":function(t,e,i){"use strict";var n=i("b727").forEach,a=i("a640"),r=a("forEach");t.exports=r?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"1a0d":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"navi"},[i("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":t.rightText,fixed:t.fixed,"left-arrow":""},on:{"click-left":t.back,"click-right":t.clickRight}})],1)},a=[],r={name:"Navi",data:function(){return{}},props:{title:{type:String,default:""},rightText:{type:String,default:""},fixed:{type:Boolean,default:!1}},methods:{back:function(){this.$router.go(-1)},clickRight:function(){this.$emit("click-right")}}},c=r,s=(i("04d2"),i("2877")),o=Object(s["a"])(c,n,a,!1,null,"17aaf7fc",null);e["a"]=o.exports},"408a":function(t,e,i){var n=i("e330");t.exports=n(1..valueOf)},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var n=i("e330"),a=i("1d80"),r=i("577e"),c=i("5899"),s=n("".replace),o="["+c+"]",u=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),d=function(t){return function(e){var i=r(a(e));return 1&t&&(i=s(i,u,"")),2&t&&(i=s(i,l,"")),i}};t.exports={start:d(1),end:d(2),trim:d(3)}},a15b:function(t,e,i){"use strict";var n=i("23e7"),a=i("e330"),r=i("44ad"),c=i("fc6a"),s=i("a640"),o=a([].join),u=r!=Object,l=s("join",",");n({target:"Array",proto:!0,forced:u||!l},{join:function(t){return o(c(this),void 0===t?",":t)}})},a640:function(t,e,i){"use strict";var n=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){return 1},1)}))}},a9e3:function(t,e,i){"use strict";var n=i("83ab"),a=i("da84"),r=i("e330"),c=i("94ca"),s=i("6eeb"),o=i("1a2d"),u=i("7156"),l=i("3a9b"),d=i("d9b5"),f=i("c04e"),p=i("d039"),v=i("241c").f,h=i("06cf").f,g=i("9bf2").f,b=i("408a"),m=i("58a8").trim,k="Number",x=a[k],C=x.prototype,_=a.TypeError,E=r("".slice),w=r("".charCodeAt),N=function(t){var e=f(t,"number");return"bigint"==typeof e?e:I(e)},I=function(t){var e,i,n,a,r,c,s,o,u=f(t,"number");if(d(u))throw _("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=m(u),e=w(u,0),43===e||45===e){if(i=w(u,2),88===i||120===i)return NaN}else if(48===e){switch(w(u,1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+u}for(r=E(u,2),c=r.length,s=0;s<c;s++)if(o=w(r,s),o<48||o>a)return NaN;return parseInt(r,n)}return+u};if(c(k,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var R,y=function(t){var e=arguments.length<1?0:x(N(t)),i=this;return l(C,i)&&p((function(){b(i)}))?u(Object(e),i,y):e},S=n?v(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),j=0;S.length>j;j++)o(x,R=S[j])&&!o(y,R)&&g(y,R,h(x,R));y.prototype=C,C.constructor=y,s(a,k,y)}},c84b:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail"},[i("Navi",{attrs:{title:"商品详情",fixed:!0}}),i("div",[i("div",{staticClass:"detail-img"},[i("img",{staticClass:"auto-img",attrs:{src:t.productDetail.large_img,alt:""}})]),i("div",{staticClass:"detail-info"},[i("div",{staticClass:"detail-pro"},[i("div",[i("div",{staticClass:"detail-name one-text"},[t._v(t._s(t.productDetail.name))]),i("div",{staticClass:"detail-enname one-text"},[t._v(t._s(t.productDetail.enname))])]),i("div",{staticClass:"detail-price"},[t._v("¥"+t._s(t.productDetail.price))])]),i("div",{staticClass:"detail-rules"},t._l(t.productDetail.rulesData,(function(e,n){return i("div",{key:n,staticClass:"detail-rules-item"},[i("div",{staticClass:"rules-title"},[t._v(t._s(e.title))]),i("div",{staticClass:"rules"},t._l(e.subRule,(function(n,a){return i("div",{key:a,staticClass:"rules-item",class:{active:a===e.activeIndex},on:{click:function(i){return t.selectRule(e,a)}}},[t._v(" "+t._s(n.title)+" ")])})),0)])})),0),i("div",{staticClass:"select-count-box"},[i("div",{staticClass:"select-text"},[t._v("选择数量")]),i("div",{staticClass:"select-count"},[i("van-stepper",{attrs:{theme:"round","button-size":"22","disable-input":""},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}})],1)]),i("div",{staticClass:"detail-desc"},[i("div",{staticClass:"detail-desc-title"},[t._v("商品描述")]),i("div",{staticClass:"detail-desc-content"},t._l(t.productDetail.desc,(function(e,n){return i("div",{key:n,staticClass:"desc-item"},[t._v(t._s(n+1)+"、"+t._s(e))])})),0)])])]),i("van-goods-action",[i("van-goods-action-icon",{attrs:{to:{name:"Shopbag"},icon:"bag",text:"购物袋",color:"#646566",badge:t.shopbagCount}}),i("van-goods-action-icon",{attrs:{icon:"like",text:t.isLike?"已收藏":"收藏",color:t.isLike?"#e4393c":"#646566"},on:{click:t.likeProduct}}),i("van-goods-action-button",{attrs:{color:"#0C34BA",text:"加入购物袋"},on:{click:t.addShopbag}})],1)],1)},a=[],r=i("3835"),c=i("1da1"),s=(i("96cf"),i("ac1f"),i("1276"),i("d3b7"),i("159b"),i("a15b"),i("a9e3"),i("1a0d")),o={name:"Detail",data:function(){return{count:1,pid:"",productDetail:{},isLike:!1,shopbagCount:""}},components:{Navi:s["a"]},created:function(){this.pid=this.$route.params.pid,this.getProductDetailByPid(this.pid),this.findCurrentLike(),this.getShopbagCount()},methods:{getProductDetailByPid:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function i(){var n,a,c,s,o,u,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.get("productDetail",{pid:t});case 2:n=i.sent,a=n.result,c=n.code,s=Object(r["a"])(a,1),o=s[0],600===c&&(o.desc=o.desc.split(/\n/),u=[],l=["tem","sugar","milk","cream"],l.forEach((function(t){if(""!==o[t]){var e={title:o["".concat(t,"_desc")],activeIndex:0,subRule:[]},i=o[t].split(/\//);i.forEach((function(t){e.subRule.push({title:t})})),u.push(e)}})),o.rulesData=u,e.productDetail=o);case 6:case"end":return i.stop()}}),i)})))()},selectRule:function(t,e){t.activeIndex!==e&&(t.activeIndex=e)},likeProduct:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.isLike?"/notlike":"/like",e.next=3,t.post(i,{pid:t.pid});case 3:n=e.sent,800===n.code?t.isLike=!0:900===n.code&&1===n.result&&(t.isLike=!1);case 5:case"end":return e.stop()}}),e)})))()},findCurrentLike:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.get("findlike",{pid:t.pid});case 2:i=e.sent,1e3===i.code&&i.result.length>0&&(t.isLike=!0);case 4:case"end":return e.stop()}}),e)})))()},getShopbagCount:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.get("shopcartCount",{pid:t.pid});case 2:i=e.sent,4e3===i.code&&(t.shopbagCount=i.result);case 4:case"end":return e.stop()}}),e)})))()},addShopbag:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=[],e.next=3,t.post("addShopcart",{pid:t.pid,count:t.count,rule:i.join("/")});case 3:n=e.sent,3e3===n.code?(t.$toast("加入购物袋成功"),t.shopbagCount=Number(t.shopbagCount)+t.count):t.$toast("加入购物袋失败");case 5:case"end":return e.stop()}}),e)})))()}}},u=o,l=(i("ea95"),i("2877")),d=Object(l["a"])(u,n,a,!1,null,"1d712bdb",null);e["default"]=d.exports},ea95:function(t,e,i){"use strict";i("1381")},f818:function(t,e,i){}}]);
//# sourceMappingURL=chunk-784dab84.479f1e5f.js.map