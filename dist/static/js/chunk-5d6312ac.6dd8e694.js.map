{"version":3,"sources":["webpack:///./src/views/Secure.vue?c318","webpack:///./src/views/Secure.vue?a7b5","webpack:///src/views/Secure.vue","webpack:///./src/views/Secure.vue?f626","webpack:///./src/views/Secure.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","pswPopup","_v","style","height","model","value","callback","$$v","pwsshow","expression","isOldGaiPasssword","OldGaiPasssword","oldPassword","isOpenRegister","XiuGaiPasssword","newPassword","$event","xiugaipsw","closeAccount","logout","staticRenderFns","name","data","components","Navi","Bg","methods","res","setTimeout","confirm","title","message","then","catch","password","type","background","color","component"],"mappings":"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","file":"static/js/chunk-5d6312ac.6dd8e694.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Secure.vue?vue&type=style&index=0&id=713bade2&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Secure\"},[_c('Navi',{attrs:{\"title\":\"安全中心\",\"fixed\":true}}),_c('div',{staticClass:\"SecureBox\"},[_c('Bg',[_c('div',{staticClass:\"Secure-list\"},[_c('div',{staticClass:\"Secure-item\"},[_c('van-cell',{attrs:{\"is-link\":\"\"},on:{\"click\":_vm.pswPopup}},[_vm._v(\"修改密码\")]),_c('van-popup',{style:({ height: '40%' }),attrs:{\"position\":\"bottom\",\"closeable\":\"\"},model:{value:(_vm.pwsshow),callback:function ($$v) {_vm.pwsshow=$$v},expression:\"pwsshow\"}},[_c('div',{staticClass:\"pwsBox\"},[_c('div',{staticClass:\"pwsBox-text\"},[_vm._v(\"修改密码\")]),_c('van-field',{attrs:{\"type\":!_vm.isOldGaiPasssword ? 'password' : 'text',\"name\":\"旧密码\",\"label\":\"旧密码\",\"placeholder\":\"请输入旧密码\",\"right-icon\":!_vm.isOldGaiPasssword ? 'closed-eye' : 'eye-o',\"autocomplete\":\"off\"},on:{\"click-right-icon\":_vm.OldGaiPasssword},model:{value:(_vm.oldPassword),callback:function ($$v) {_vm.oldPassword=$$v},expression:\"oldPassword\"}}),_c('van-field',{attrs:{\"type\":!_vm.isOpenRegister ? 'password' : 'text',\"name\":\"新密码\",\"label\":\"新密码\",\"placeholder\":\"请输入新密码\",\"right-icon\":!_vm.isOpenRegister ? 'closed-eye' : 'eye-o',\"autocomplete\":\"off\"},on:{\"click-right-icon\":_vm.XiuGaiPasssword},model:{value:(_vm.newPassword),callback:function ($$v) {_vm.newPassword=$$v},expression:\"newPassword\"}}),_c('div',{staticClass:\"psw-btn\"},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"color\":\"#0C34BA\"},on:{\"click\":function($event){return _vm.xiugaipsw(_vm.oldPassword, _vm.newPassword)}}},[_vm._v(\"修改密码\")])],1)],1)])],1),_c('div',{staticClass:\"Secure-item\"},[_c('van-cell',{attrs:{\"is-link\":\"\"},on:{\"click\":_vm.closeAccount}},[_vm._v(\"注销账号\")])],1)]),_c('div',{staticClass:\"Secure-btn\"},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"color\":\"#0C34BA\"},on:{\"click\":function($event){return _vm.logout()}}},[_vm._v(\"退出登陆\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"Secure\">\r\n    <Navi title=\"安全中心\" :fixed=\"true\" />\r\n    <div class=\"SecureBox\">\r\n      <Bg>\r\n        <div class=\"Secure-list\">\r\n          <div class=\"Secure-item\">\r\n            <van-cell is-link @click=\"pswPopup\">修改密码</van-cell>\r\n            <van-popup v-model=\"pwsshow\" position=\"bottom\" :style=\"{ height: '40%' }\" closeable>\r\n              <div class=\"pwsBox\">\r\n                <div class=\"pwsBox-text\">修改密码</div>\r\n                <van-field\r\n                  v-model=\"oldPassword\"\r\n                  :type=\"!isOldGaiPasssword ? 'password' : 'text'\"\r\n                  name=\"旧密码\"\r\n                  label=\"旧密码\"\r\n                  placeholder=\"请输入旧密码\"\r\n                  :right-icon=\"!isOldGaiPasssword ? 'closed-eye' : 'eye-o'\"\r\n                  autocomplete=\"off\"\r\n                  @click-right-icon=\"OldGaiPasssword\"\r\n                />\r\n                <van-field\r\n                  v-model=\"newPassword\"\r\n                  :type=\"!isOpenRegister ? 'password' : 'text'\"\r\n                  name=\"新密码\"\r\n                  label=\"新密码\"\r\n                  placeholder=\"请输入新密码\"\r\n                  :right-icon=\"!isOpenRegister ? 'closed-eye' : 'eye-o'\"\r\n                  autocomplete=\"off\"\r\n                  @click-right-icon=\"XiuGaiPasssword\"\r\n                />\r\n                <div class=\"psw-btn\">\r\n                  <van-button round block color=\"#0C34BA\" @click=\"xiugaipsw(oldPassword, newPassword)\">修改密码</van-button>\r\n                </div>\r\n              </div>\r\n            </van-popup>\r\n          </div>\r\n          <div class=\"Secure-item\">\r\n            <van-cell is-link @click=\"closeAccount\">注销账号</van-cell>\r\n          </div>\r\n        </div>\r\n        <div class=\"Secure-btn\">\r\n          <van-button round block color=\"#0C34BA\" @click=\"logout()\">退出登陆</van-button>\r\n        </div>\r\n      </Bg>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Navi from '../components/Navi.vue';\r\n  import Bg from '../components/Bg.vue';\r\n  export default {\r\n    name: 'Secure',\r\n    data() {\r\n      return {\r\n        pwsshow: false,\r\n        isOpenRegister: false,\r\n        isOldGaiPasssword: false,\r\n        newPassword: '',\r\n        oldPassword: '',\r\n      };\r\n    },\r\n    components: {\r\n      Navi,\r\n      Bg,\r\n    },\r\n    methods: {\r\n      // 退出登陆\r\n      async logout() {\r\n        const res = await this.post('logout', {});\r\n        if (res.code === 'F001') {\r\n          setTimeout(() => {\r\n            this.$router.push({ name: 'Home' });\r\n          }, 1000);\r\n        }\r\n      },\r\n      // 注销账号\r\n      closeAccount() {\r\n        this.$dialog\r\n          .confirm({\r\n            title: '注销账号',\r\n            message: '是否确认注销账号，一旦注销无法恢复',\r\n          })\r\n          .then(async () => {\r\n            const res = await this.post('destroyAccount', {});\r\n            if (res.code === 'G001') this.$router.push({ name: 'Login' });\r\n          })\r\n          .catch(err => {});\r\n      },\r\n      pswPopup() {\r\n        this.pwsshow = true;\r\n      },\r\n\r\n      XiuGaiPasssword() {\r\n        this.isOpenRegister = !this.isOpenRegister;\r\n      },\r\n      OldGaiPasssword() {\r\n        this.isOldGaiPasssword = !this.isOldGaiPasssword;\r\n      },\r\n      async xiugaipsw(oldPassword, newPassword) {\r\n        if (oldPassword === newPassword) {\r\n          this.$toast('新旧密码不能相同');\r\n          return;\r\n        }\r\n\r\n        const res = await this.post('updatePassword', { password: newPassword, oldPassword });\r\n        if (res.code === 'E001') {\r\n          this.pwsshow = false;\r\n          this.oldPassword = '';\r\n          this.newPassword = '';\r\n          this.$router.push({ name: 'Login' });\r\n          this.$notify({\r\n            type: 'primary',\r\n            message: '密码成功修改,请重新登陆',\r\n            background: '#0C34BA',\r\n            color: '#fff',\r\n          });\r\n        }\r\n        if (res.code === 'E003') {\r\n          this.$toast(res.msg);\r\n          this.pwsshow = false;\r\n          this.oldPassword = '';\r\n          this.newPassword = '';\r\n        }\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .SecureBox {\r\n    margin-top: 46px;\r\n    background: #fff;\r\n    .Secure-list {\r\n      background: #fff;\r\n      padding: 10px;\r\n      .Secure-item {\r\n        font-size: 15px;\r\n        display: flex;\r\n        // padding: 10px;\r\n        justify-content: space-between;\r\n        border-bottom: 1px solid #ccc;\r\n        &:nth-child(2n) {\r\n          border-bottom: 0;\r\n        }\r\n        .pwsBox {\r\n          .pwsBox-text {\r\n            font-size: 15px;\r\n            padding: 18px 5px;\r\n          }\r\n          /deep/.van-cell {\r\n            margin-top: 20px;\r\n          }\r\n          .psw-btn {\r\n            margin-top: 20px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .Secure-btn {\r\n      margin-top: 100px;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Secure.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Secure.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Secure.vue?vue&type=template&id=713bade2&scoped=true&\"\nimport script from \"./Secure.vue?vue&type=script&lang=js&\"\nexport * from \"./Secure.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Secure.vue?vue&type=style&index=0&id=713bade2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"713bade2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}