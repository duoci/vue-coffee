(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d018c60"],{"04d2":function(t,i,a){"use strict";a("f818")},"159b":function(t,i,a){var n=a("da84"),e=a("fdbc"),c=a("785a"),s=a("17c2"),o=a("9112"),r=function(t){if(t&&t.forEach!==s)try{o(t,"forEach",s)}catch(i){t.forEach=s}};for(var u in e)e[u]&&r(n[u]&&n[u].prototype);r(c)},"17c2":function(t,i,a){"use strict";var n=a("b727").forEach,e=a("a640"),c=e("forEach");t.exports=c?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"1a0d":function(t,i,a){"use strict";var n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"navi"},[a("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","right-text":t.rightText,fixed:t.fixed,"left-arrow":""},on:{"click-left":t.back,"click-right":t.clickRight}})],1)},e=[],c={name:"Navi",data:function(){return{}},props:{title:{type:String,default:""},rightText:{type:String,default:""},fixed:{type:Boolean,default:!1}},methods:{back:function(){this.$router.go(-1)},clickRight:function(){this.$emit("click-right")}}},s=c,o=(a("04d2"),a("2877")),r=Object(o["a"])(s,n,e,!1,null,"17aaf7fc",null);i["a"]=r.exports},"4a34":function(t,i,a){},"7b37":function(t,i,a){"use strict";a.r(i);var n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"coffee-wallet"},[a("Navi",{attrs:{title:"咖啡钱包",fixed:!0}}),a("div",{staticClass:"wallet-conter"},[t._l(t.quanData,(function(i,n){return a("div",{key:n,staticClass:"wallet-item"},[a("div",{staticClass:"item-left"},[a("div",{staticClass:"price"},[a("span",{staticClass:"price-i"},[t._v("￥")]),t._v(t._s(i.price))])]),a("div",{staticClass:"item-right"},[a("div",{staticClass:"right-text"},[t._v("全国通用券"),a("van-icon",{attrs:{name:"info-o"},on:{click:t.guize}})],1),a("div",[a("van-stepper",{attrs:{theme:"round","button-size":"22","disable-input":"",min:"0"},on:{change:function(a){return t.countChange(i.price,i.count)}},model:{value:i.count,callback:function(a){t.$set(i,"count",a)},expression:"item.count"}})],1)])])})),t.isEait?a("div",{staticClass:"give"},[a("div",{staticClass:"wallet-item"},[a("div",{staticClass:"item-left",staticStyle:{"background-color":"#0122a8",color:"#fff"}},[a("div",{staticClass:"price"},[a("span",{staticClass:"price-i"},[t._v("￥")]),t._v(t._s(t.isprice))])]),a("div",{staticClass:"item-right"},[a("div",{staticClass:"right-text"},[t._v("全国通用券"),a("van-icon",{attrs:{name:"info-o"}})],1),a("div",[t._v("x"+t._s(t.isnum))])])])]):t._e()],2),a("div",{staticClass:"wellet-bo"},[a("van-submit-bar",{attrs:{price:t.total,"button-text":"去结算"},on:{submit:t.pay},scopedSlots:t._u([{key:"tip",fn:function(){return[t._v(" "+t._s(t.text)+" ")]},proxy:!0}])})],1)],1)},e=[],c=(a("d3b7"),a("159b"),a("1a0d")),s={name:"Coffeewallet",components:{Navi:c["a"]},data:function(){return{value:"",price:0,text:"购买以上商品券享充4送3,不同商品券可组合购买",isEait:!1,isprice:"",isnum:0,quanData:[{price:35,count:0},{price:32,count:0},{price:29,count:0}]}},computed:{total:function(){var t=this,i=0;return this.quanData.forEach((function(a){i+=a.price*a.count,t.price=i})),100*i}},methods:{guize:function(){this.$dialog.alert({title:"使用规则",message:"1、本饮品券为咖啡钱包优惠活动中提前充购所得。\n2、饮品券分为三档，对应三档饮品面价，结算时，饮品券可抵扣相应面价的商品费用，但不包含风味糖浆、奶油及配送费,不设找零,超额需补差价，一次可使用多张饮品券。\n3、咖啡钱包饮品券有效期三年。(超出有效期无效)\n4、饮品券不与其他优惠卷、优惠活动共享(特别声明，可同享的除外)\n5、为丰富用户权益，充购所得的饮品券课同事在瑞幸中国旗下瑞幸咖啡和小鹿茶中使用"}).then((function(){}))},pay:function(){var t=this;this.price>0?(this.$toast("结算成功"),setTimeout((function(){t.$router.push({name:"Home"})}),1e3)):this.$toast("您没有选择券")},countChange:function(t,i){var a=0,n=[],e=0;this.quanData.forEach((function(t){a+=t.count,n.push(t.count)}));var c=Math.max.apply(null,n);if(console.log(c),a<=4){var s=4-a;this.text="在充".concat(s,"张享充4赠3")}if(a>=4&&10>=a){var o=10-a;this.text="".concat("已享充4赠3  在充 ").concat(o," 张享充10赠8,更划算")}if(a>=10&&14>=a){var r=14-a;this.text="".concat("已享充10赠8  在充 ").concat(r," 张享充14赠11,更划算")}console.log(n);for(var u=0;u<n.length;u+=1)if(console.log(u),n[u]===c)return e=u,void(4===a&&(console.log("进来了"),this.isEait=!0,this.isnum=3,this.isprice=this.quanData[e].price))}}},o=s,r=(a("8fb5"),a("2877")),u=Object(r["a"])(o,n,e,!1,null,"a7e2134c",null);i["default"]=u.exports},"8fb5":function(t,i,a){"use strict";a("4a34")},a640:function(t,i,a){"use strict";var n=a("d039");t.exports=function(t,i){var a=[][t];return!!a&&n((function(){a.call(null,i||function(){return 1},1)}))}},f818:function(t,i,a){}}]);
//# sourceMappingURL=chunk-4d018c60.cebc9552.js.map